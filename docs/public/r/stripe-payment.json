{
  "name": "stripe-payment",
  "type": "registry:block",
  "title": "Stripe Payment",
  "description": "Process payments using the Stripe API",
  "registryDependencies": [],
  "dependencies": ["@vercel/workflow"],
  "files": [
    {
      "path": "registry/steps/stripe-payment.tsx",
      "type": "registry:component",
      "content": "import { fatalError } from '@vercel/workflow';\n\ntype PaymentParams = {\n  amount: number;\n  currency: string;\n  customerId: string;\n  description?: string;\n};\n\nexport async function stripePayment(params: PaymentParams) {\n  \"use step\";\n\n  const apiKey = process.env.STRIPE_SECRET_KEY;\n\n    if (!apiKey) {\n      throw fatalError('STRIPE_SECRET_KEY is required');\n    }\n\n    const response = await fetch('https://api.stripe.com/v1/payment_intents', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${apiKey}`,\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: new URLSearchParams({\n        amount: params.amount.toString(),\n        currency: params.currency,\n        customer: params.customerId,\n        description: params.description || '',\n      }),\n    });\n\n    if (!response.ok) {\n      throw fatalError(`Stripe API error: ${response.status}`);\n    }\n\n    return await response.json();\n}\n\n",
      "target": "components/steps/stripe-payment.tsx"
    }
  ]
}
